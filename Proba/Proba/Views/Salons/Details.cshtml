@model Proba.Models.DetailsReservationViewModel

@{
    ViewBag.Title = "Details";
}

@*
    DETAILS SALON
*@

<div>
    @*<img class="slika-profil" src="~/UserImages/@Model.ImagePath" style="max-width:300px !important" />*@

    <div id="SlideshowImages" class="slika-profil">
        <div> <img src="~/UserImages/default_female.jpg" height="200" width="200"> </div>
        <div> <img src="/UserImages/default_male.jpg" height="200" width="200"> </div>
        <div> <img src="/UserImages/default_salon.jpg" height="200" width="200"> </div>
    </div>

    <h1 class="header-profil">

        <b class="naslov-profil">
            @Html.DisplayFor(model => model.Salon.Name)

        </b>

    </h1>

    <br />
    <br />
</div>

<div class="form-horizontal info-profil">

    <div style=" padding: 5% 0;">


        @*<div class="form-group">
            <div class="box">
                <a class="star b1"></a>
                <a class="star b2"></a>
                <a class="star b3"></a>
                <a class="star b4"></a>
                <a class="star b5"></a>
                <ion-icon name="star"></ion-icon>
            </div>
        </div>*@
        @*<div class="form-group">
            <div class="container" style="margin-top:35px">
                <div class="ratings">
                    <input type="radio" name="star" id="rating" value="1" />
                    <input type="radio" name="star" id="rating" value="2" />
                    <input type="radio" name="star" id="rating" value="3" />
                    <input type="radio" name="star" id="rating" value="4" />
                    <input type="radio" name="star" id="rating" value="5" />
                </div>
                <br />
                <span class="info"></span>
            </div>
        </div>*@


        <div class="form-group">
            <div class="col-md-2">
                @Html.LabelFor(model => model.Salon.Address)
            </div>
            <div class="col-md-6">
                @Html.Label(Model.Salon.Address)
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-2">
                @Html.LabelFor(model => model.Salon.City)
            </div>
            <div class="col-md-6">
                @Html.Label(Model.Salon.City)
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-2">
                @Html.LabelFor(model => model.Salon.Rating)
            </div>
            <div class="col-md-6">
                @Html.Label(Model.Salon.Rating.ToString())
            </div>
        </div>


        <div class="form-group">
            <div class="col-md-2">
                @Html.LabelFor(model => model.Salon.numChairs)
            </div>
            <div class="col-md-6">
                @Html.Label(Model.Salon.numChairs.ToString())
            </div>
        </div>


        <div class="form-group">
            <div class="col-md-2">
                @Html.LabelFor(model => model.Salon.Services)
            </div>
            <div class="col-md-6">
                @foreach (var service in Model.Salon.Services)
                {

                    <div class="form-group">
                        <div class="col-md-3">
                            @Html.Label(service.Name)
                        </div>

                        <div class="col-md-2">
                            @Html.Label(service.Price.ToString()) ден.
                        </div>

                        @*@foreach (var img in service.StringsAsStrings.Split(','))
                        {
                            if (img != "")

                            {
                                <div>
                                    <img src="~/UploadedFiles/@img" style="max-width:200px" />
                                </div>
                            }

                        }*@
                        @if (User.IsInRole("Client"))
                        {
                            using (Html.BeginForm("MakeReservation", "Reservations", FormMethod.Get))
                            {
                                @Html.Hidden("ServiceId", service.Id)
                                @Html.HiddenFor(m => m.SalonId)
                                <button class="btn btn-block default" type="submit">
                                    <span>РЕЗЕРВИРАЈ</span>
                                </button>
                            }


                        }


                    </div>
                }
            </div>
            @if (User.IsInRole("Salon") && User.Identity.Name.Equals(Model.Salon.User.Email))
            {
                @Html.ActionLink("ПРЕГЛЕДАЈ РЕЗЕРВАЦИИ", "Index", "Reservations", new { Id = Model.SalonId }, null)
            }
        </div>





        @if (User.IsInRole("Salon") && User.Identity.Name.Equals(Model.Salon.User.Email))
        {
            <h5>
                <i>
                    @Html.ActionLink("Ажурирај профил", "Edit", new { id = Model.Salon.UserId })
                </i>
                <i style="float:right;margin-right:12%">
                    @Html.ActionLink("Ажурирај податоци за најава", "Index", "Manage", routeValues: null, htmlAttributes: new { title = "Уреди" })
                </i>
            </h5>
        }


    </div>
</div>



@*<style type="text/css" style="display: none !important;">
        #SlideshowImages {
            margin: 50px auto;
            position: relative;
            width: 200px;
            height: 200px;
            padding: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
        }

            #SlideshowImages > div {
                position: absolute;
                top: 10px;
                left: 10px;
                right: 10px;
                bottom: 10px;
            }
            #SlideshowImages > div img{
                border-radius: 6px;
            }
    </style>*@

@section Scripts{
    <script type="text/javascript">

        $(document).ready(function () {
            $("#SlideshowImages > div:gt(0)").hide();
            setInterval(function () {
                $('#SlideshowImages > div:first').fadeOut(1000).next().fadeIn(1000).end().appendTo('#SlideshowImages');
            }, 3000);
        });

        //$(".ratings").rating(function (vote, event) {
        //    $.ajax({
        //        method: "POST",
        //        url: "/Salons/Details/" +,
        //        data: { vote: vote }
        //    }).done(function (info) {
        //        $(".info").html("Yout vote:<b>" + info + "</b>")
        //    })


    </script>
    @*<script src="https://unpkg.com/ionicons@5.1.2/dist/ionicons.js"></script></script>*@
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"></script>

    <@*script type="text/javascript" src="../src/rating.js"></script>
    <link rel="*@stylesheet" href="../src/rating.css" type="text/css" media="screen" title="Rating CSS">

}


